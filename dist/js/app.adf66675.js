(function(e){function t(t){for(var n,a,i=t[0],u=t[1],c=t[2],l=0,p=[];l<i.length;l++)a=i[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&p.push(o[a][0]),o[a]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);f&&f(t);while(p.length)p.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,a=1;a<r.length;a++){var i=r[a];0!==o[i]&&(n=!1)}n&&(s.splice(t--,1),e=u(u.s=r[0]))}return e}var n={},a={app:0},o={app:0},s=[];function i(e){return u.p+"js/"+({}[e]||e)+"."+{"chunk-2cfa51af":"22db9795","chunk-5475ae16":"0206a61c"}[e]+".js"}function u(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,u),r.l=!0,r.exports}u.e=function(e){var t=[],r={"chunk-2cfa51af":1};a[e]?t.push(a[e]):0!==a[e]&&r[e]&&t.push(a[e]=new Promise((function(t,r){for(var n="css/"+({}[e]||e)+"."+{"chunk-2cfa51af":"90bf9b58","chunk-5475ae16":"31d6cfe0"}[e]+".css",o=u.p+n,s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var c=s[i],l=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(l===n||l===o))return t()}var p=document.getElementsByTagName("style");for(i=0;i<p.length;i++){c=p[i],l=c.getAttribute("data-href");if(l===n||l===o)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var n=t&&t.target&&t.target.src||o,s=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=n,delete a[e],f.parentNode.removeChild(f),r(s)},f.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(f)})).then((function(){a[e]=0})));var n=o[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=s);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=i(e);var p=new Error;c=function(t){l.onerror=l.onload=null,clearTimeout(f);var r=o[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;p.message="Loading chunk "+e+" failed.\n("+n+": "+a+")",p.name="ChunkLoadError",p.type=n,p.request=a,r[1](p)}o[e]=void 0}};var f=setTimeout((function(){c({type:"timeout",target:l})}),12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(t)},u.m=e,u.c=n,u.d=function(e,t,r){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(u.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)u.d(r,n,function(t){return e[t]}.bind(null,n));return r},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/",u.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var p=0;p<c.length;p++)t(c[p]);var f=l;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var n=r("85ec"),a=r.n(n);a.a},"0ee2":function(e,t,r){},"365c":function(e,t,r){"use strict";r("d3b7"),r("96cf");var n=r("1da1"),a=r("d4ec"),o=r("bee2"),s=r("bc3a"),i=r.n(s),u=JSON.parse(localStorage.getItem("credit"))||null,c=function(e){return i()(e,{headers:{"Content-Type":"application/json",Authorization:"Bearer "+u.token}}).then((function(e){return e.data})).catch((function(e){return console.log("fetch GET err",e.message)}))},l=function(e,t){return i()({method:"POST",url:e,data:t,headers:{"Content-Type":"application/json"}}).then((function(e){return e})).catch((function(e){return console.log("fetch POST err",e.message)}))},p=function(e,t){return i()({method:"POST",url:e,data:t,headers:{"Content-Type":"application/json",Authorization:"Bearer "+u.token}}).then((function(e){return e})).catch((function(e){return console.log("fetch POST Auth err",e.message)}))},f=function(e,t){return i()({method:"PUT",url:e,data:t,headers:{"Content-Type":"application/json",Authorization:"Bearer "+u.token}}).then((function(e){return e})).catch((function(e){return console.log("fetch PUT Auth err",e.message)}))},m=function(e){return i.a.delete(e,{headers:{Authorization:"Bearer "+u.token}}).then((function(e){return e})).catch((function(e){return console.log("fetch DELETE err",e.message)}))},d=r("f121"),h=r.n(d),b=function(){function e(){Object(a["a"])(this,e)}return Object(o["a"])(e,[{key:"postSignUp",value:function(e){return new Promise(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r,n){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l(h.a.ROOT_URL+"/signup",e);case 3:a=t.sent,r(a.data),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),n(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}())}},{key:"postSignIn",value:function(e){return new Promise(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r,n){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l(h.a.ROOT_URL+"/signin",e);case 3:a=t.sent,r(a),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),n(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}())}},{key:"getUsers",value:function(){return new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(h.a.ROOT_URL+"/admin/users");case 3:n=e.sent,t(n),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),r(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,r){return e.apply(this,arguments)}}())}},{key:"putAdminUser",value:function(e,t){return new Promise(function(){var r=Object(n["a"])(regeneratorRuntime.mark((function r(n,a){var o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,f(h.a.ROOT_URL+"/admin/users/".concat(e),t);case 3:o=r.sent,n(o.data),r.next=10;break;case 7:r.prev=7,r.t0=r["catch"](0),a(r.t0);case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(e,t){return r.apply(this,arguments)}}())}},{key:"deleteUser",value:function(e){return new Promise(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r,n){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m(h.a.ROOT_URL+"/admin/users/".concat(e));case 3:a=t.sent,r(a.data),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),n(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}())}},{key:"getMessages",value:function(){return new Promise(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c(h.a.ROOT_URL+"/chatroom");case 3:n=e.sent,console.log("res",n),t(n),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),r(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}())}},{key:"postMessage",value:function(e){return new Promise(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r,n){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p(h.a.ROOT_URL+"/chatroom/create",e);case 3:a=t.sent,r(a.data),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),n(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,r){return t.apply(this,arguments)}}())}}]),e}();t["a"]=b},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},o=[],s={name:"App",components:{}},i=s,u=(r("034f"),r("2877")),c=Object(u["a"])(i,a,o,!1,null,null,null),l=c.exports,p=(r("caad"),r("b0c0"),r("d3b7"),r("2532"),r("96cf"),r("1da1")),f=r("8c4f"),m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",[r("h1",[e._v(" 404 Page Not Found ")]),r("br"),r("br"),r("a",{attrs:{href:"javascript:history.back()"}},[e._v("回上一頁")])])},d=[],h={},b=Object(u["a"])(h,m,d,!1,null,null,null),v=b.exports,g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("b-container",{staticClass:"py-5",attrs:{id:"signin"}},[r("div",{staticClass:"text-center mb-4"},[r("h1",{staticClass:"h3 mb-3 font-weight-normal"},[e._v(" Sign In ")])]),r("b-form",{on:{submit:e.onSubmit,reset:e.onReset}},[r("b-form-group",{attrs:{id:"email",label:"Email address:","label-for":"email",description:"We'll never share your email with anyone else."}},[r("b-form-input",{attrs:{id:"email-input",type:"email",required:"",placeholder:"Enter email"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),r("b-form-group",{attrs:{id:"password",label:"Your Password:","label-for":"password",description:"Please Input Your Password"}},[r("b-form-input",{attrs:{id:"password-input",type:"password",required:"",placeholder:"Enter password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),r("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Submit")]),r("b-button",{staticStyle:{"margin-left":"0.25rem"},attrs:{type:"reset",variant:"danger"}},[e._v("Reset")])],1),r("br"),r("router-link",{attrs:{to:"/signup"}},[e._v("Don't have account ? Sign up !!")])],1)],1)},w=[],y=r("365c"),k=new y["a"],x={name:"SignIn",data:function(){return{form:{email:"",password:""}}},methods:{onSubmit:function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.preventDefault(),confirm("Confirm to SignIn ?"),""===this.form.email&&""===this.form.password){e.next=10;break}return r=JSON.stringify(this.form),e.next=6,k.postSignIn(r);case 6:n=e.sent,"success"===n.data.status&&("success"===n.data.status&&localStorage.setItem("credit",JSON.stringify(n.data)),this.$router.go({name:"ChatRoom"})),e.next=11;break;case 10:alert("Please fill in all the Form");case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),onReset:function(){this.form.email="",this.form.password=""}}},O=x,S=(r("cc90"),Object(u["a"])(O,g,w,!1,null,"5f3a7686",null)),R=S.exports,P=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-container",{staticClass:"py-5"},[r("div",{staticClass:"text-center mb-4",attrs:{id:"signup"}},[r("h1",{staticClass:"h3 mb-3 font-weight-normal"},[e._v(" Sign Up ")])]),r("b-form",{on:{submit:e.onSubmit,reset:e.onReset}},[r("b-form-group",{attrs:{id:"name",label:"Username :","label-for":"name",description:"We are glad if you are going to join us"}},[r("b-form-input",{attrs:{id:"name-input",type:"text",required:"",placeholder:"Enter username"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("b-form-group",{attrs:{id:"email",label:"Email address:","label-for":"email",description:"We'll never share your email with anyone else."}},[r("b-form-input",{attrs:{id:"email-input",type:"email",required:"",placeholder:"Enter email"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),r("b-form-group",{attrs:{id:"password",label:"Your Password:","label-for":"password",description:"Please Input Your Password"}},[r("b-form-input",{attrs:{id:"password-input",type:"password",required:"",placeholder:"Enter password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),r("b-form-group",{attrs:{id:"passwordCheck",label:"Confirm your password :","label-for":"passwordCheck",description:"Please confirm Your Password"}},[r("b-form-input",{attrs:{id:"passwordCheck-input",type:"password",required:"",placeholder:"Confirm your Password"},model:{value:e.form.passwordCheck,callback:function(t){e.$set(e.form,"passwordCheck",t)},expression:"form.passwordCheck"}})],1),r("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Submit")]),r("b-button",{staticStyle:{"margin-left":"0.25rem"},attrs:{type:"reset",variant:"danger"}},[e._v("Reset")])],1),r("br"),r("router-link",{attrs:{to:"/signin"}},[e._v("Already have account? Go Sign in !!")])],1)],1)},_=[],j=new y["a"],C={name:"SignUp",data:function(){return{form:{name:"",email:"",password:"",passwordCheck:""}}},methods:{onSubmit:function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.preventDefault(),confirm("Confirm to SignUp ?"),this.form.name&&this.form.email&&this.form.password&&this.form.passwordCheck){e.next=6;break}alert("Empty Input"),e.next=16;break;case 6:if(this.form.password===this.form.passwordCheck){e.next=10;break}alert("Please check if both of your password is correct"),e.next=16;break;case 10:return r=JSON.stringify(this.form),e.next=13,j.postSignUp(r);case 13:n=e.sent,console.log("this.res",n),"success"!==n.status&&alert(n.message);case 16:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),onReset:function(){this.form.name="",this.form.email="",this.form.password="",this.form.passwordCheck=""}}},T=C,E=(r("5a8a"),Object(u["a"])(T,P,_,!1,null,"52378f06",null)),U=E.exports,A=JSON.parse(localStorage.getItem("credit"));n["default"].use(f["a"]);var I=[{path:"/",name:"root",redirect:"/chatroom"},{path:"/chatroom",name:"chatroom",component:function(){return r.e("chunk-2cfa51af").then(r.bind(null,"3519"))}},{path:"/admin",exact:!0,redirect:"/admin/restaurants"},{path:"/admin/users",name:"admin-users",component:function(){return r.e("chunk-5475ae16").then(r.bind(null,"6135"))}},{path:"/signup",name:"SignUp",component:U},{path:"/signin",name:"SignIn",component:R},{path:"*",name:"NotFound",component:v}],L=new f["a"]({linkExactActiveClass:"active",mode:"history",routes:I});L.beforeEach(function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(A||"SignIn"===t.name||"SignUp"===t.name){e.next=3;break}return n("/signin"),e.abrupt("return");case 3:if(!A){e.next=7;break}if("SignIn"!==t.name&&"Signup"!==t.name){e.next=7;break}return n("/chatroom"),e.abrupt("return");case 7:if(!A||!1!==A.user.isAdmin){e.next=11;break}if(!t.path.includes("/admin")){e.next=11;break}return n("/404"),e.abrupt("return");case 11:n();case 12:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}());var N=L,$=r("5f5b");r("f9e3"),r("2dd8");n["default"].use($["a"]),n["default"].config.productionTip=!1,new n["default"]({router:N,render:function(e){return e(l)}}).$mount("#app")},"5a8a":function(e,t,r){"use strict";var n=r("0ee2"),a=r.n(n);a.a},"85ec":function(e,t,r){},cc90:function(e,t,r){"use strict";var n=r("fdc8"),a=r.n(n);a.a},f121:function(e,t){e.exports={ROOT_URL:"https://fierce-ocean-49039.herokuapp.com/api"}},fdc8:function(e,t,r){}});
//# sourceMappingURL=app.adf66675.js.map